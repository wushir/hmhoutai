{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\houtai\\vue_shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\houtai\\vue_shop\\src\\components\\power\\Roles.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\houtai\\vue_shop\\src\\components\\power\\Roles.vue","mtime":1643271059751},{"path":"C:\\Users\\Administrator\\Desktop\\houtai\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642648944000},{"path":"C:\\Users\\Administrator\\Desktop\\houtai\\vue_shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1642648952000},{"path":"C:\\Users\\Administrator\\Desktop\\houtai\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642648944000},{"path":"C:\\Users\\Administrator\\Desktop\\houtai\\vue_shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1642648952000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8v5omA5pyJ6KeS6Imy5YiX6KGo5pWw5o2uDQogICAgICByb2xlbGlzdDogW10sDQogICAgICAvL+aJgOacieinkuiJsuadg+mZkOaVsOaNrg0KICAgICAgcmlnaHRzbGlzdDogW10sDQoNCiAgICAgIC8v5qCR5b2i5o6n5Lu255qE57uR5a6a5a+56LGhDQogICAgICB0cmVlUHJvcHM6IHsNCiAgICAgICAgLy9hdXRoTmFtZSDmnYPpmZDor7TmmI4NCiAgICAgICAgbGFiZWw6ICJhdXRoTmFtZSIsDQogICAgICAgIC8v5Zyo6YKj5Liq6YeM6Z2i5bWM5aWXDQogICAgICAgIGNoaWxkcmVuOiAiY2hpbGRyZW4iLA0KICAgICAgfSwNCiAgICAgIC8v5qCR5b2i5o6n5Lu255qE6IqC54K56buY6K6k5Yu+6YCJ55qEDQogICAgICBkZWZrZXlzOiBbXSwNCiAgICAgIC8v5o6n5Yi25re75Yqg6KeS6Imy5a+56K+d5qGG5pi+56S66ZqQ6JePDQogICAgICBhZGRSb2xlc1Zpc2libGU6IGZhbHNlLA0KICAgICAgLy/mjqfliLbnvJbovpHop5LoibLlr7nor53moYbmmL7npLrpmpDol48NCiAgICAgIGVkaXRSb2xlc1Zpc2libGU6IGZhbHNlLA0KICAgICAgLy/mjqfliLbliIbphY3op5LoibLmnYPpmZDlr7nor53moYbmmL7npLrpmpDol48NCiAgICAgIHNldFJpZ2h0RGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICAvL+a3u+WKoOeUqOaIt+ihqOWNleaVsOaNrg0KICAgICAgYWRkUm9sZXNGb3JtOiB7DQogICAgICAgIHJvbGVOYW1lOiAiIiwNCiAgICAgICAgcm9sZURlc2M6ICIiLA0KICAgICAgfSwNCiAgICAgIC8v5Yib5bu65LiA5Liq5L+d5a2Y57yW6L6R55qE6KGo5Y2V5pWw5o2uDQogICAgICBlZGl0Um9sZXNGb3JtOiB7fSwNCiAgICAgIC8v5L+u5pS56KGo5Y2V55qE6aqM6K+B6KeE5YiZ5a+56LGhDQogICAgICBhZGRSb2xlc0Zvcm1SdWxlczogew0KICAgICAgICByb2xlTmFtZTogWw0KICAgICAgICAgIC8vdHJpZ2dlcjogImJsdXIi5aSx5Y6754Sm54K5DQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeinkuiJsuWQjSIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG1pbjogMiwNCiAgICAgICAgICAgIG1heDogMTAsDQogICAgICAgICAgICBtZXNzYWdlOiAi6KeS6Imy5ZCN55qE6ZW/5bqm5ZyoMn4xMOS4quWtl+espuS5i+mXtCIsDQogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsDQogICAgICAgICAgfSwNCiAgICAgICAgXSwNCiAgICAgICAgcm9sZURlc2M6IFsNCiAgICAgICAgICAvL3RyaWdnZXI6ICJibHVyIuWkseWOu+eEpueCuQ0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLmt7vliqDop5LoibLmj4/ov7AiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBtaW46IDAsDQogICAgICAgICAgICBtYXg6IDUwLA0KICAgICAgICAgICAgbWVzc2FnZTogIuinkuiJsuaPj+i/sOWQjeeahOmVv+W6puWcqDB+NTDkuKrlrZfnrKbkuYvpl7QiLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRSb2xlc0xpc3QoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8v6I635Y+W5omA5pyJ55qE6KeS6Imy5YiX6KGoDQogICAgYXN5bmMgZ2V0Um9sZXNMaXN0KCkgew0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCJyb2xlcyIpOw0KICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bliJfooajlpLHotKUiKTsNCiAgICAgIH0NCiAgICAgIHRoaXMucm9sZWxpc3QgPSByZXMuZGF0YTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMucm9sZWxpc3QpOw0KICAgIH0sDQogICAgLy/moLnmja5pZOWIoOmZpOWvueW6lOeahOinkuiJsuS/oeaBrw0KICAgIGFzeW5jIHJlbW92ZVJvbGVzQnlJZChpZCkgew0KICAgICAgY29uc29sZS5sb2coaWQpOw0KICAgICAgLy/lvLnmoYbmj5DnpLoNCiAgICAgIGNvbnN0IGNvbmZpcm1SZXN1bHQgPSBhd2FpdCB0aGlzLiRjb25maXJtKA0KICAgICAgICAi5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l55So5oi3LCDmmK/lkKbnu6fnu60/IiwNCiAgICAgICAgIuaPkOekuiIsDQogICAgICAgIHsNCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsDQogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICB9DQogICAgICApLmNhdGNoKChlcnIpID0+IGVycik7DQogICAgICAvL+WmguaenOehruiupOWIoOmZpCDov5Tlm55jb25maXJtDQogICAgICAvL+WPlua2iOWIoOmZpCDov5Tlm55jYW5jZWwNCiAgICAgIGNvbnNvbGUubG9nKGNvbmZpcm1SZXN1bHQpOw0KICAgICAgaWYgKGNvbmZpcm1SZXN1bHQgIT09ICJjb25maXJtIikgew0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5pbmZvKCLlt7Lnu4/lj5bmtojliKDpmaQiKTsNCiAgICAgIH0NCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmRlbGV0ZSgicm9sZXMvIiArIGlkKTsNCiAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT0gMjAwKSB7DQogICAgICAgIC8v5ZON5bqU6ZSZ6K+v5o+Q56S6DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLliKDpmaTnlKjmiLflpLHotKUiKTsNCiAgICAgIH0NCiAgICAgIC8v5oiQ5Yqf5by55Ye6DQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOeUqOaIt+aIkOWKnyIpOw0KICAgICAgLy/ph43mlrDojrflj5bnlKjmiLfliJfooagNCiAgICAgIHRoaXMuZ2V0Um9sZXNMaXN0KCk7DQogICAgfSwNCiAgICAvLyDngrnlh7vmjInpkq7mt7vliqDmlrDnlKjmiLcNCiAgICBhZGRSb2xlcygpIHsNCiAgICAgIHRoaXMuJHJlZnMuYWRkUm9sZXNGb3JtUmVmLnZhbGlkYXRlKGFzeW5jICh2YWxpZCkgPT4gew0KICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm47DQogICAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoInJvbGVzIiwgdGhpcy5hZGRSb2xlc0Zvcm0pOw0KICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzICE9PSAyMDEpIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmt7vliqDnlKjmiLflpLHotKUiKTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIua3u+WKoOeUqOaIt+aIkOWKnyIpOw0KICAgICAgICAvL+WvueivneahhumakOiXjw0KICAgICAgICB0aGlzLmFkZERpYWxvZ1Zpc2libGUgPSBmYWxzZTsNCiAgICAgICAgLy/ph43mlrDojrflj5bnlKjmiLfliJfooagNCiAgICAgICAgdGhpcy5nZXRSb2xlc0xpc3QoKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy/mt7vliqDop5LoibLlr7nor53moYblhbPpl63kuovku7YNCiAgICBhZGRSb2xlc0RpYWxvZ0Nsb3NlZCgpIHsNCiAgICAgIC8vcmVzZXRGaWVsZHPlr7nmlbTkuKrooajljZXov5vooYzph43nva7vvIzlsIbmiYDmnInlrZfmrrXlgLzph43nva7kuLrliJ3lp4vlgLzlubbnp7vpmaTmoKHpqoznu5PmnpwNCiAgICAgIHRoaXMuJHJlZnMuYWRkUm9sZXNGb3JtUmVmLnJlc2V0RmllbGRzKCk7DQogICAgfSwNCiAgICAvL+ebkeWQrOS/ruaUueinkuiJsuWvueivneahhueahOWFs+mXreS6i+S7tg0KICAgIGVkaXRSb2xlc0RpYWxvZ0Nsb3NlZCgpIHsNCiAgICAgIC8vIHJlc2V0RmllbGRzCeWvueaVtOS4quihqOWNlei/m+ihjOmHjee9ru+8jOWwhuaJgOacieWtl+auteWAvOmHjee9ruS4uuWIneWni+WAvOW5tuenu+mZpOagoemqjOe7k+aenA0KICAgICAgdGhpcy4kcmVmcy5lZGl0Um9sZXNGb3JtUmVmLnJlc2V0RmllbGRzKCk7DQogICAgfSwNCiAgICAvLyDlsZXnpLrnvJbovpHop5LoibLnmoTlr7nor53moYYNCiAgICBhc3luYyBzaG93RWRpdERpYWxvZyhpZCkgew0KICAgICAgdGhpcy5lZGl0Um9sZXNWaXNpYmxlID0gdHJ1ZTsNCiAgICAgIC8vIOagueaNriBJRCDmn6Xor6LnlKjmiLfkv6Hmga8NCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgicm9sZXMvIiArIGlkKTsNCiAgICAgIC8v55SoaWbov5vooYzliKTmlq0g55So5oi36K+35rGC5oiQ5Yqf6L+Y5piv5aSx6LSlDQogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9IDIwMCkgew0KICAgICAgICAvL+Wksei0peaPkOekug0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5p+l6K+i55So5oi35aSx6LSlIik7DQogICAgICB9DQogICAgICB0aGlzLmVkaXRSb2xlc0Zvcm0gPSByZXMuZGF0YTsNCiAgICAgIGNvbnNvbGUubG9nKCIxMTExMTExMTExIiwgdGhpcy5lZGl0Um9sZXNGb3JtLnJvbGVJZCk7DQogICAgfSwNCiAgICAvL+S/ruaUueinkuiJsuS/oeaBr+W5tuS4lOaPkOS6pA0KICAgIGVkaXRSb2xlcygpIHsNCiAgICAgIHRoaXMuJHJlZnMuZWRpdFJvbGVzRm9ybVJlZi52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsNCiAgICAgICAgLy/miZPljbDkuLp0cnVlLOihqOekuuagvOW8j+agoemqjOmqjOivgemAmui/hw0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRSb2xlc0Zvcm0pOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWxpZCkNCiAgICAgICAgLy8gLy/kuI3pgJrov4fnm7TmjqXnu5PmnZ8NCiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOw0KICAgICAgICAvL+mAmui/h+WPkei1t+S/ruaUueeUqOaIt+S/oeaBr+eahOivt+axgg0KICAgICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wdXQoDQogICAgICAgICAgInJvbGVzLyIgKyB0aGlzLmVkaXRSb2xlc0Zvcm0ucm9sZUlkLA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJvbGVOYW1lOiB0aGlzLmVkaXRSb2xlc0Zvcm0ucm9sZU5hbWUsDQogICAgICAgICAgICByb2xlRGVzYzogdGhpcy5lZGl0Um9sZXNGb3JtLnJvbGVEZXNjLA0KICAgICAgICAgIH0NCiAgICAgICAgKTsNCiAgICAgICAgLy/lhYjliKTmlq3lk43lupTmiJDlip/msqHmnIkNCiAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgY29uc29sZS5sb2cocmVzLnJvbGVOYW1lKTsNCiAgICAgICAgY29uc29sZS5sb2cocmVzLnJvbGVEZXNjKTsNCiAgICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuabtOaWsOeUqOaIt+S/oeaBr+Wksei0pSIpOw0KICAgICAgICB9DQogICAgICAgIC8v5ZON5bqU5oiQ5Yqf5LmL5ZCODQogICAgICAgIC8v5YWz6Zet5a+56K+d5qGGIOWIt+aWsOaVsOaNruihqCDmj5DnpLrkv67mlLnmiJDlip8NCiAgICAgICAgdGhpcy5lZGl0Um9sZXNWaXNpYmxlID0gZmFsc2U7DQogICAgICAgIHRoaXMuZ2V0Um9sZXNMaXN0KCk7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5pu05paw55So5oi35L+h5oGv5oiQ5YqfIik7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8v5qC55o2uaWTliKDpmaTlr7nlupTnmoTmnYPpmZANCiAgICAvL3JvbGUg6KeS6ImyICAgaWQzIOadg+mZkCBJRA0KICAgIC8v5Yig6Zmk5oyH5a6a55qE6KeS6Imy55qEaWQNCiAgICBhc3luYyByZW1vdmVSaWdodEJ5SWQocm9sZSwgcmlnaHRJZCkgew0KICAgICAgY29uc29sZS5sb2cocm9sZSwgcmlnaHRJZCk7DQogICAgICAvL+W8ueahhuaPkOekug0KICAgICAgY29uc3QgY29uZmlybVJlc3VsdCA9IGF3YWl0IHRoaXMuJGNvbmZpcm0oDQogICAgICAgICLmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XnlKjmiLcsIOaYr+WQpue7p+e7rT8iLA0KICAgICAgICAi5o+Q56S6IiwNCiAgICAgICAgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwNCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsDQogICAgICAgIH0NCiAgICAgICkuY2F0Y2goKGVycikgPT4gZXJyKTsNCiAgICAgIC8v5aaC5p6c56Gu6K6k5Yig6ZmkIOi/lOWbnmNvbmZpcm0NCiAgICAgIC8v5Y+W5raI5Yig6ZmkIOi/lOWbnmNhbmNlbA0KICAgICAgY29uc29sZS5sb2coY29uZmlybVJlc3VsdCk7DQogICAgICBpZiAoY29uZmlybVJlc3VsdCAhPT0gImNvbmZpcm0iKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmluZm8oIuW3sue7j+WPlua2iOWIoOmZpCIpOw0KICAgICAgfQ0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZGVsZXRlKA0KICAgICAgICBgcm9sZXMvJHtyb2xlLmlkfS9yaWdodHMvJHtyaWdodElkfWANCiAgICAgICk7DQogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9IDIwMCkgew0KICAgICAgICAvL+WTjeW6lOmUmeivr+aPkOekug0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5Yig6Zmk55So5oi35aSx6LSlIik7DQogICAgICB9DQogICAgICAvL+aIkOWKn+W8ueWHug0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTnlKjmiLfmiJDlip8iKTsNCiAgICAgIC8v6YeN5paw6I635Y+W55So5oi35YiX6KGoDQogICAgICAvL3RoaXMuZ2V0Um9sZXNMaXN0KCk75LiN5o6o6I2Q5Zug5Li65LuW5piv5Yi35paw5pW05Liq6aG16Z2iDQogICAgICAvLyB0aGlzLmdldFJvbGVzTGlzdCgpOw0KICAgICAgLy/lm6DkuLrov5Tlm57nmoRkYXRhLCDmmK/lvZPliY3op5LoibLkuIvmnIDmlrDnmoTmnYPpmZDmlbDmja4NCiAgICAgIC8v6KeS6ImyaWTkuIvmlbDmja7ph43mlrDmuLLmn5MgcmVzLmRhdGHnlKjmiLfmnIDmlrDmlbDmja4gICByb2xlLmNoaWxkcmVuIOaMh+WumueUqOaIt+S4i+eahOaVsOaNrg0KICAgICAgcm9sZS5jaGlsZHJlbiA9IHJlcy5kYXRhOw0KICAgIH0sDQogICAgLy/lsZXnpLrliIbphY3mnYPpmZDnmoTlr7nor53moYYNCiAgICBhc3luYyBzaG93U2V0UmlnaHREaWFsb2cocm9sZSkgew0KICAgICAgY29uc29sZS5sb2cocm9sZSk7DQogICAgICAvL+iOt+WPluaJgOacieeahOadg+mZkOaVsOaNrg0KICAgICAgLy/ojrflj5bnlKjmiLfmiYDmnInnmoTmnYPpmZDnmoTmlbDmja4NCiAgICAgIC8v5YC8IGxpc3Qg5oiWIHRyZWUgLCBsaXN0IOWIl+ihqOaYvuekuuadg+mZkCwgdHJlZSDmoJHnirbmmL7npLrmnYPpmZANCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgicmlnaHRzL3RyZWUiKTsNCiAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMCkgew0KICAgICAgICAvL+aPkOekug0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6I635Y+W5YiX6KGo5aSx6LSlIik7DQogICAgICB9DQogICAgICAvL+iOt+WPlueahOadg+mZkOaVsOaNriDnlKjnqbrmlbDnu4Tkv53lrZgNCiAgICAgIHRoaXMucmlnaHRzbGlzdCA9IHJlcy5kYXRhOw0KICAgICAgY29uc29sZS5sb2codGhpcy5yaWdodHNsaXN0KTsNCiAgICAgIC8vIOmAkuW9kuiOt+WPljPnuqfoioLngrnnmoRpZCByb2xl5b2T5YmN6KeS6ImyIHRoaXMuZGVma2V5cyBkYXRh55Sz5piO55qE56m65pWw57uEDQogICAgICB0aGlzLmdldExlYWZrZXlzKHJvbGUsIHRoaXMuZGVma2V5cyk7DQogICAgICAgICB0aGlzLmdldFJvbGVzTGlzdCgpOw0KICAgICAgLy/lr7nor53moYbmmL7npLoNCiAgICAgIHRoaXMuc2V0UmlnaHREaWFsb2dWaXNpYmxlID0gdHJ1ZTsNCiAgICAgICAvL+mHjeaWsOiOt+WPlueUqOaIt+WIl+ihqA0KDQogICAgfSwNCiAgICAvL+eUqOmAkuW9kueahOW9ouW8jyzojrflj5bop5LoibLkuIvpnaLmiYDmnInnmoQz57qn5p2D6ZmQ55qEaWQs5bm25L+d5a2Y5YiwZGVma2V5cw0KICAgIC8vbm9kZSDoioLngrkgIGFyciDmlbDnu4Tkv53lrZgNCiAgICBnZXRMZWFma2V5cyhub2RlLCBhcnIpIHsNCiAgICAgIC8vIOWIpOaWreavj+S4quiKgueCueaYr+WQpuaciWNoaWxkcmVuIOayoeacieWwseaYr+acgOWQjuS4gOS4qiDkuZ/lsLHmmK/nrKwz57qnDQogICAgICBpZiAoIW5vZGUuY2hpbGRyZW4pIHsNCiAgICAgICAgLy9hcnLooajnpLrmlbDnu4QgcHVzaOW+gOWQjua3u+WKoCBub2RlLmlkIOWwseaYr+aLpeacieeahGlkDQogICAgICAgIHJldHVybiBhcnIucHVzaChub2RlLmlkKTsNCiAgICAgIH0NCiAgICAgIC8v5aaC5p6c5pyJY2hpbGRyZW4g5bCx5LiA55u06Ieq5bex6LCD6Ieq5bexIOaJvuWIsOayoeaciWNoaWxkcmVu5omN57uT5p2fIGl0ZW3oioLngrkNCiAgICAgIG5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICByZXR1cm4gdGhpcy5nZXRMZWFma2V5cyhpdGVtLCBhcnIpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICAvL+ino+WGs+eCueWHu+aXtuWAmeaVsOe7hOmHjOmdoueahOWAvOe0r+WKoCDlhbPpl63lr7nor53moYZkZWZLZXlz5L+d5a2Y55qE5YC85riF6Zu2DQogICAgLy8g55uR5ZCs5YiG6YWN5p2D6ZmQ5a+56K+d5qGG55qE5YWz6Zet5LqL5Lu2IA0KICAgIHNldFJpZ2h0RGlhbG9nQ2xvc2VkKCkgew0KICAgICAgdGhpcy5kZWZrZXlzPSBbXSAgDQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Roles.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Roles.vue","sourceRoot":"src/components/power","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <!-- 添加角色按钮区域 -->\r\n      <el-row>\r\n        <el-col>\r\n          <el-button type=\"primary\" @click=\"addRolesVisible = true\"\r\n            >添加角色</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 角色列表区域 -->\r\n      <el-table :data=\"rolelist\" border stripe>\r\n        <!-- 展开列 -->\r\n        <el-table-column type=\"expand\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- json数据格式化展示时用过我认为就是可以识别\\n\\t等转义字符 -->\r\n            <!-- :class=\"['bdbottom']  每一行都绑定  i1===0 就是第一个位置 加上顶部边框线-->\r\n            <el-row\r\n              v-for=\"(item1, i1) in scope.row.children\"\r\n              :key=\"item1.id\"\r\n              :class=\"['bdbottom', i1 === 0 ? 'bdtop' : '', 'vcenter']\"\r\n            >\r\n              <!-- 渲染一级权限 -->\r\n              <el-col :span=\"5\">\r\n                <el-tag\r\n                  closable\r\n                  @close=\"removeRightById(scope.row, item1.id)\"\r\n                  >{{ item1.authName }}</el-tag\r\n                >\r\n                <i class=\"el-icon-caret-right\"></i>\r\n              </el-col>\r\n              <!-- 渲染一级到3级权限 -->\r\n              <el-col :span=\"19\">\r\n                <!-- 通过for渲染二级权限 -->\r\n                <el-row\r\n                  v-for=\"(item2, i2) in item1.children\"\r\n                  :key=\"item2.id\"\r\n                  :class=\"[i1 === 0 ? '' : 'bdtop', 'vcenter']\"\r\n                >\r\n                  <el-col :span=\"6\">\r\n                    <el-tag\r\n                      type=\"success\"\r\n                      closable\r\n                      @close=\"removeRightById(scope.row, item2.id)\"\r\n                      >{{ item2.authName }}</el-tag\r\n                    >\r\n                    <i class=\"el-icon-caret-right\"></i>\r\n                  </el-col>\r\n                  <el-col :span=\"18\">\r\n                    <el-tag\r\n                      type=\"warning\"\r\n                      v-for=\"(item3, i3) in item2.children\"\r\n                      :key=\"item3.id\"\r\n                      closable\r\n                      @close=\"removeRightById(scope.row, item3.id)\"\r\n                    >\r\n                      {{ item3.authName }}</el-tag\r\n                    >\r\n                  </el-col>\r\n                </el-row>\r\n              </el-col>\r\n            </el-row>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column type=\"index\" label=\"id\"></el-table-column>\r\n        <el-table-column label=\"角色名称\" prop=\"roleName\"></el-table-column>\r\n        <el-table-column label=\"角色描述\" prop=\"roleDesc\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"300px\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 编辑按钮 -->\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              @click=\"showEditDialog(scope.row.id)\"\r\n              >编辑</el-button\r\n            >\r\n            <!-- 删除按钮 -->\r\n            <el-button\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              @click=\"removeRolesById(scope.row.id)\"\r\n              >删除</el-button\r\n            >\r\n            <!-- 分配角色 -->\r\n            <el-button\r\n              type=\"warning\"\r\n              icon=\"el-icon-setting\"\r\n              size=\"mini\"\r\n              @click=\"showSetRightDialog(scope.row)\"\r\n              >分配权限</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 添加角色角色 -->\r\n      <el-dialog\r\n        title=\"提示\"\r\n        :visible.sync=\"addRolesVisible\"\r\n        width=\"50%\"\r\n        @close=\"addRolesDialogClosed\"\r\n      >\r\n        <el-form\r\n          :model=\"addRolesForm\"\r\n          :rules=\"addRolesFormRules\"\r\n          ref=\"addRolesFormRef\"\r\n          label-width=\"80px\"\r\n        >\r\n          <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n            <el-input v-model=\"addRolesForm.roleName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n            <el-input v-model=\"addRolesForm.roleDesc\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addRolesVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addRoles\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <!-- 编辑角色对话框 -->\r\n      <el-dialog\r\n        title=\"提示\"\r\n        :visible.sync=\"editRolesVisible\"\r\n        width=\"50%\"\r\n        @close=\"editRolesDialogClosed\"\r\n      >\r\n        <el-form\r\n          :model=\"editRolesForm\"\r\n          :rules=\"addRolesFormRules\"\r\n          ref=\"editRolesFormRef\"\r\n          label-width=\"80px\"\r\n        >\r\n          <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n            <el-input v-model=\"editRolesForm.roleName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n            <el-input v-model=\"editRolesForm.roleDesc\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"editRolesVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"editRoles\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <!-- 分配角色权限对话框 -->\r\n      <el-dialog\r\n        title=\"分配权限\"\r\n        :visible.sync=\"setRightDialogVisible\"\r\n        width=\"50%\"\r\n         @close=\"setRightDialogClosed\"\r\n      >\r\n        <!-- 树形控件 -->\r\n        <!-- default-expand-all 是否默认展开所有节点 default-checked-keys\t默认勾选的节点的 key 的数组\r\n      show-checkbox勾选框 -->\r\n        <el-tree\r\n          :data=\"rightslist\"\r\n          :props=\"treeProps\"\r\n          show-checkbox\r\n          node-key=\"id\"\r\n          default-expand-all\r\n          :default-checked-keys=\"defkeys\"\r\n        ></el-tree>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"setRightDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"setRightDialogVisible = false\"\r\n            >确 定</el-button\r\n          >\r\n        </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //所有角色列表数据\r\n      rolelist: [],\r\n      //所有角色权限数据\r\n      rightslist: [],\r\n\r\n      //树形控件的绑定对象\r\n      treeProps: {\r\n        //authName 权限说明\r\n        label: \"authName\",\r\n        //在那个里面嵌套\r\n        children: \"children\",\r\n      },\r\n      //树形控件的节点默认勾选的\r\n      defkeys: [],\r\n      //控制添加角色对话框显示隐藏\r\n      addRolesVisible: false,\r\n      //控制编辑角色对话框显示隐藏\r\n      editRolesVisible: false,\r\n      //控制分配角色权限对话框显示隐藏\r\n      setRightDialogVisible: false,\r\n      //添加用户表单数据\r\n      addRolesForm: {\r\n        roleName: \"\",\r\n        roleDesc: \"\",\r\n      },\r\n      //创建一个保存编辑的表单数据\r\n      editRolesForm: {},\r\n      //修改表单的验证规则对象\r\n      addRolesFormRules: {\r\n        roleName: [\r\n          //trigger: \"blur\"失去焦点\r\n          { required: true, message: \"请输入角色名\", trigger: \"blur\" },\r\n          {\r\n            min: 2,\r\n            max: 10,\r\n            message: \"角色名的长度在2~10个字符之间\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        roleDesc: [\r\n          //trigger: \"blur\"失去焦点\r\n          { required: true, message: \"添加角色描述\", trigger: \"blur\" },\r\n          {\r\n            min: 0,\r\n            max: 50,\r\n            message: \"角色描述名的长度在0~50个字符之间\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getRolesList();\r\n  },\r\n  methods: {\r\n    //获取所有的角色列表\r\n    async getRolesList() {\r\n      const { data: res } = await this.$http.get(\"roles\");\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error(\"获取列表失败\");\r\n      }\r\n      this.rolelist = res.data;\r\n      console.log(this.rolelist);\r\n    },\r\n    //根据id删除对应的角色信息\r\n    async removeRolesById(id) {\r\n      console.log(id);\r\n      //弹框提示\r\n      const confirmResult = await this.$confirm(\r\n        \"此操作将永久删除该用户, 是否继续?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch((err) => err);\r\n      //如果确认删除 返回confirm\r\n      //取消删除 返回cancel\r\n      console.log(confirmResult);\r\n      if (confirmResult !== \"confirm\") {\r\n        return this.$message.info(\"已经取消删除\");\r\n      }\r\n      const { data: res } = await this.$http.delete(\"roles/\" + id);\r\n      if (res.meta.status != 200) {\r\n        //响应错误提示\r\n        return this.$message.error(\"删除用户失败\");\r\n      }\r\n      //成功弹出\r\n      this.$message.success(\"删除用户成功\");\r\n      //重新获取用户列表\r\n      this.getRolesList();\r\n    },\r\n    // 点击按钮添加新用户\r\n    addRoles() {\r\n      this.$refs.addRolesFormRef.validate(async (valid) => {\r\n        if (!valid) return;\r\n        const { data: res } = await this.$http.post(\"roles\", this.addRolesForm);\r\n        if (res.data.status !== 201) {\r\n          this.$message.error(\"添加用户失败\");\r\n        }\r\n        this.$message.success(\"添加用户成功\");\r\n        //对话框隐藏\r\n        this.addDialogVisible = false;\r\n        //重新获取用户列表\r\n        this.getRolesList();\r\n      });\r\n    },\r\n    //添加角色对话框关闭事件\r\n    addRolesDialogClosed() {\r\n      //resetFields对整个表单进行重置，将所有字段值重置为初始值并移除校验结果\r\n      this.$refs.addRolesFormRef.resetFields();\r\n    },\r\n    //监听修改角色对话框的关闭事件\r\n    editRolesDialogClosed() {\r\n      // resetFields\t对整个表单进行重置，将所有字段值重置为初始值并移除校验结果\r\n      this.$refs.editRolesFormRef.resetFields();\r\n    },\r\n    // 展示编辑角色的对话框\r\n    async showEditDialog(id) {\r\n      this.editRolesVisible = true;\r\n      // 根据 ID 查询用户信息\r\n      const { data: res } = await this.$http.get(\"roles/\" + id);\r\n      //用if进行判断 用户请求成功还是失败\r\n      if (res.meta.status != 200) {\r\n        //失败提示\r\n        return this.$message.error(\"查询用户失败\");\r\n      }\r\n      this.editRolesForm = res.data;\r\n      console.log(\"1111111111\", this.editRolesForm.roleId);\r\n    },\r\n    //修改角色信息并且提交\r\n    editRoles() {\r\n      this.$refs.editRolesFormRef.validate(async (valid) => {\r\n        //打印为true,表示格式校验验证通过\r\n        console.log(this.editRolesForm);\r\n        // console.log(valid)\r\n        // //不通过直接结束\r\n        if (!valid) return;\r\n        //通过发起修改用户信息的请求\r\n        const { data: res } = await this.$http.put(\r\n          \"roles/\" + this.editRolesForm.roleId,\r\n          {\r\n            roleName: this.editRolesForm.roleName,\r\n            roleDesc: this.editRolesForm.roleDesc,\r\n          }\r\n        );\r\n        //先判断响应成功没有\r\n        console.log(res);\r\n        console.log(res.roleName);\r\n        console.log(res.roleDesc);\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error(\"更新用户信息失败\");\r\n        }\r\n        //响应成功之后\r\n        //关闭对话框 刷新数据表 提示修改成功\r\n        this.editRolesVisible = false;\r\n        this.getRolesList();\r\n        this.$message.success(\"更新用户信息成功\");\r\n      });\r\n    },\r\n    //根据id删除对应的权限\r\n    //role 角色   id3 权限 ID\r\n    //删除指定的角色的id\r\n    async removeRightById(role, rightId) {\r\n      console.log(role, rightId);\r\n      //弹框提示\r\n      const confirmResult = await this.$confirm(\r\n        \"此操作将永久删除该用户, 是否继续?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch((err) => err);\r\n      //如果确认删除 返回confirm\r\n      //取消删除 返回cancel\r\n      console.log(confirmResult);\r\n      if (confirmResult !== \"confirm\") {\r\n        return this.$message.info(\"已经取消删除\");\r\n      }\r\n      const { data: res } = await this.$http.delete(\r\n        `roles/${role.id}/rights/${rightId}`\r\n      );\r\n      if (res.meta.status != 200) {\r\n        //响应错误提示\r\n        return this.$message.error(\"删除用户失败\");\r\n      }\r\n      //成功弹出\r\n      this.$message.success(\"删除用户成功\");\r\n      //重新获取用户列表\r\n      //this.getRolesList();不推荐因为他是刷新整个页面\r\n      // this.getRolesList();\r\n      //因为返回的data, 是当前角色下最新的权限数据\r\n      //角色id下数据重新渲染 res.data用户最新数据   role.children 指定用户下的数据\r\n      role.children = res.data;\r\n    },\r\n    //展示分配权限的对话框\r\n    async showSetRightDialog(role) {\r\n      console.log(role);\r\n      //获取所有的权限数据\r\n      //获取用户所有的权限的数据\r\n      //值 list 或 tree , list 列表显示权限, tree 树状显示权限\r\n      const { data: res } = await this.$http.get(\"rights/tree\");\r\n      if (res.meta.status !== 200) {\r\n        //提示\r\n        return this.$message.error(\"获取列表失败\");\r\n      }\r\n      //获取的权限数据 用空数组保存\r\n      this.rightslist = res.data;\r\n      console.log(this.rightslist);\r\n      // 递归获取3级节点的id role当前角色 this.defkeys data申明的空数组\r\n      this.getLeafkeys(role, this.defkeys);\r\n         this.getRolesList();\r\n      //对话框显示\r\n      this.setRightDialogVisible = true;\r\n       //重新获取用户列表\r\n\r\n    },\r\n    //用递归的形式,获取角色下面所有的3级权限的id,并保存到defkeys\r\n    //node 节点  arr 数组保存\r\n    getLeafkeys(node, arr) {\r\n      // 判断每个节点是否有children 没有就是最后一个 也就是第3级\r\n      if (!node.children) {\r\n        //arr表示数组 push往后添加 node.id 就是拥有的id\r\n        return arr.push(node.id);\r\n      }\r\n      //如果有children 就一直自己调自己 找到没有children才结束 item节点\r\n      node.children.forEach((item) => {\r\n        return this.getLeafkeys(item, arr);\r\n      });\r\n    },\r\n    //解决点击时候数组里面的值累加 关闭对话框defKeys保存的值清零\r\n    // 监听分配权限对话框的关闭事件 \r\n    setRightDialogClosed() {\r\n      this.defkeys= []  \r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-tag {\r\n  margin: 7px;\r\n}\r\n.bdtop {\r\n  border-top: 1px solid #eee;\r\n}\r\n.bdbottom {\r\n  border-bottom: 1px solid #eee;\r\n}\r\n.vcenter {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: nowrap;\r\n}\r\n</style>"]}]}