{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vue\\heimahoutai\\vue_shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vue\\heimahoutai\\vue_shop\\src\\components\\power\\Roles.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vue\\heimahoutai\\vue_shop\\src\\components\\power\\Roles.vue","mtime":1643460986794},{"path":"C:\\Users\\Administrator\\Desktop\\vue\\heimahoutai\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue\\heimahoutai\\vue_shop\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\vue\\heimahoutai\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue\\heimahoutai\\vue_shop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8v5omA5pyJ6KeS6Imy5YiX6KGo5pWw5o2uDQogICAgICByb2xlbGlzdDogW10sDQogICAgICAvL+aJgOacieinkuiJsuadg+mZkOaVsOaNrg0KICAgICAgcmlnaHRzbGlzdDogW10sDQogICAgICAvL+S/neWtmOeCueWHu+WIhumFjeadg+mZkOeahGlkDQogICAgICByb2xlSWQ6JycsDQogICAgICAvL+agkeW9ouaOp+S7tueahOe7keWumuWvueixoQ0KICAgICAgdHJlZVByb3BzOiB7DQogICAgICAgIC8vYXV0aE5hbWUg5p2D6ZmQ6K+05piODQogICAgICAgIGxhYmVsOiAiYXV0aE5hbWUiLA0KICAgICAgICAvL+WcqOmCo+S4qumHjOmdouW1jOWllw0KICAgICAgICBjaGlsZHJlbjogImNoaWxkcmVuIiwNCiAgICAgIH0sDQogICAgICAvL+agkeW9ouaOp+S7tueahOiKgueCuem7mOiupOWLvumAieeahA0KICAgICAgZGVma2V5czogW10sDQogICAgICAvL+aOp+WItua3u+WKoOinkuiJsuWvueivneahhuaYvuekuumakOiXjw0KICAgICAgYWRkUm9sZXNWaXNpYmxlOiBmYWxzZSwNCiAgICAgIC8v5o6n5Yi257yW6L6R6KeS6Imy5a+56K+d5qGG5pi+56S66ZqQ6JePDQogICAgICBlZGl0Um9sZXNWaXNpYmxlOiBmYWxzZSwNCiAgICAgIC8v5o6n5Yi25YiG6YWN6KeS6Imy5p2D6ZmQ5a+56K+d5qGG5pi+56S66ZqQ6JePDQogICAgICBzZXRSaWdodERpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgLy/mt7vliqDnlKjmiLfooajljZXmlbDmja4NCiAgICAgIGFkZFJvbGVzRm9ybTogew0KICAgICAgICByb2xlTmFtZTogIiIsDQogICAgICAgIHJvbGVEZXNjOiAiIiwNCiAgICAgIH0sDQogICAgICAvL+WIm+W7uuS4gOS4quS/neWtmOe8lui+keeahOihqOWNleaVsOaNrg0KICAgICAgZWRpdFJvbGVzRm9ybToge30sDQogICAgICAvL+S/ruaUueihqOWNleeahOmqjOivgeinhOWImeWvueixoQ0KICAgICAgYWRkUm9sZXNGb3JtUnVsZXM6IHsNCiAgICAgICAgcm9sZU5hbWU6IFsNCiAgICAgICAgICAvL3RyaWdnZXI6ICJibHVyIuWkseWOu+eEpueCuQ0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXop5LoibLlkI0iLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBtaW46IDIsDQogICAgICAgICAgICBtYXg6IDEwLA0KICAgICAgICAgICAgbWVzc2FnZTogIuinkuiJsuWQjeeahOmVv+W6puWcqDJ+MTDkuKrlrZfnrKbkuYvpl7QiLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICAgIHJvbGVEZXNjOiBbDQogICAgICAgICAgLy90cmlnZ2VyOiAiYmx1ciLlpLHljrvnhKbngrkNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5re75Yqg6KeS6Imy5o+P6L+wIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgbWluOiAwLA0KICAgICAgICAgICAgbWF4OiA1MCwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLop5LoibLmj4/ov7DlkI3nmoTplb/luqblnKgwfjUw5Liq5a2X56ym5LmL6Ze0IiwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgfSwNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0Um9sZXNMaXN0KCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvL+iOt+WPluaJgOacieeahOinkuiJsuWIl+ihqA0KICAgIGFzeW5jIGdldFJvbGVzTGlzdCgpIHsNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgicm9sZXMiKTsNCiAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMCkgew0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6I635Y+W5YiX6KGo5aSx6LSlIik7DQogICAgICB9DQogICAgICB0aGlzLnJvbGVsaXN0ID0gcmVzLmRhdGE7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLnJvbGVsaXN0KTsNCiAgICB9LA0KICAgIC8v5qC55o2uaWTliKDpmaTlr7nlupTnmoTop5LoibLkv6Hmga8NCiAgICBhc3luYyByZW1vdmVSb2xlc0J5SWQoaWQpIHsNCiAgICAgIGNvbnNvbGUubG9nKGlkKTsNCiAgICAgIC8v5by55qGG5o+Q56S6DQogICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gYXdhaXQgdGhpcy4kY29uZmlybSgNCiAgICAgICAgIuatpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeeUqOaItywg5piv5ZCm57un57utPyIsDQogICAgICAgICLmj5DnpLoiLA0KICAgICAgICB7DQogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLA0KICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLA0KICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgfQ0KICAgICAgKS5jYXRjaCgoZXJyKSA9PiBlcnIpOw0KICAgICAgLy/lpoLmnpznoa7orqTliKDpmaQg6L+U5ZueY29uZmlybQ0KICAgICAgLy/lj5bmtojliKDpmaQg6L+U5ZueY2FuY2VsDQogICAgICBjb25zb2xlLmxvZyhjb25maXJtUmVzdWx0KTsNCiAgICAgIGlmIChjb25maXJtUmVzdWx0ICE9PSAiY29uZmlybSIpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuaW5mbygi5bey57uP5Y+W5raI5Yig6ZmkIik7DQogICAgICB9DQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5kZWxldGUoInJvbGVzLyIgKyBpZCk7DQogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9IDIwMCkgew0KICAgICAgICAvL+WTjeW6lOmUmeivr+aPkOekug0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5Yig6Zmk55So5oi35aSx6LSlIik7DQogICAgICB9DQogICAgICAvL+aIkOWKn+W8ueWHug0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTnlKjmiLfmiJDlip8iKTsNCiAgICAgIC8v6YeN5paw6I635Y+W55So5oi35YiX6KGoDQogICAgICB0aGlzLmdldFJvbGVzTGlzdCgpOw0KICAgIH0sDQogICAgLy8g54K55Ye75oyJ6ZKu5re75Yqg5paw55So5oi3DQogICAgYWRkUm9sZXMoKSB7DQogICAgICB0aGlzLiRyZWZzLmFkZFJvbGVzRm9ybVJlZi52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOw0KICAgICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCJyb2xlcyIsIHRoaXMuYWRkUm9sZXNGb3JtKTsNCiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPT0gMjAxKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5re75Yqg55So5oi35aSx6LSlIik7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmt7vliqDnlKjmiLfmiJDlip8iKTsNCiAgICAgICAgLy/lr7nor53moYbpmpDol48NCiAgICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgICAgIC8v6YeN5paw6I635Y+W55So5oi35YiX6KGoDQogICAgICAgIHRoaXMuZ2V0Um9sZXNMaXN0KCk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8v5re75Yqg6KeS6Imy5a+56K+d5qGG5YWz6Zet5LqL5Lu2DQogICAgYWRkUm9sZXNEaWFsb2dDbG9zZWQoKSB7DQogICAgICAvL3Jlc2V0RmllbGRz5a+55pW05Liq6KGo5Y2V6L+b6KGM6YeN572u77yM5bCG5omA5pyJ5a2X5q615YC86YeN572u5Li65Yid5aeL5YC85bm256e76Zmk5qCh6aqM57uT5p6cDQogICAgICB0aGlzLiRyZWZzLmFkZFJvbGVzRm9ybVJlZi5yZXNldEZpZWxkcygpOw0KICAgIH0sDQogICAgLy/nm5HlkKzkv67mlLnop5LoibLlr7nor53moYbnmoTlhbPpl63kuovku7YNCiAgICBlZGl0Um9sZXNEaWFsb2dDbG9zZWQoKSB7DQogICAgICAvLyByZXNldEZpZWxkcwnlr7nmlbTkuKrooajljZXov5vooYzph43nva7vvIzlsIbmiYDmnInlrZfmrrXlgLzph43nva7kuLrliJ3lp4vlgLzlubbnp7vpmaTmoKHpqoznu5PmnpwNCiAgICAgIHRoaXMuJHJlZnMuZWRpdFJvbGVzRm9ybVJlZi5yZXNldEZpZWxkcygpOw0KICAgIH0sDQogICAgLy8g5bGV56S657yW6L6R6KeS6Imy55qE5a+56K+d5qGGDQogICAgYXN5bmMgc2hvd0VkaXREaWFsb2coaWQpIHsNCiAgICAgIHRoaXMuZWRpdFJvbGVzVmlzaWJsZSA9IHRydWU7DQogICAgICAvLyDmoLnmja4gSUQg5p+l6K+i55So5oi35L+h5oGvDQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoInJvbGVzLyIgKyBpZCk7DQogICAgICAvL+eUqGlm6L+b6KGM5Yik5patIOeUqOaIt+ivt+axguaIkOWKn+i/mOaYr+Wksei0pQ0KICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPSAyMDApIHsNCiAgICAgICAgLy/lpLHotKXmj5DnpLoNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuafpeivoueUqOaIt+Wksei0pSIpOw0KICAgICAgfQ0KICAgICAgdGhpcy5lZGl0Um9sZXNGb3JtID0gcmVzLmRhdGE7DQogICAgICBjb25zb2xlLmxvZygiMTExMTExMTExMSIsIHRoaXMuZWRpdFJvbGVzRm9ybS5yb2xlSWQpOw0KICAgIH0sDQogICAgLy/kv67mlLnop5LoibLkv6Hmga/lubbkuJTmj5DkuqQNCiAgICBlZGl0Um9sZXMoKSB7DQogICAgICB0aGlzLiRyZWZzLmVkaXRSb2xlc0Zvcm1SZWYudmFsaWRhdGUoYXN5bmMgKHZhbGlkKSA9PiB7DQogICAgICAgIC8v5omT5Y2w5Li6dHJ1ZSzooajnpLrmoLzlvI/moKHpqozpqozor4HpgJrov4cNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5lZGl0Um9sZXNGb3JtKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2codmFsaWQpDQogICAgICAgIC8vIC8v5LiN6YCa6L+H55u05o6l57uT5p2fDQogICAgICAgIGlmICghdmFsaWQpIHJldHVybjsNCiAgICAgICAgLy/pgJrov4flj5Hotbfkv67mlLnnlKjmiLfkv6Hmga/nmoTor7fmsYINCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucHV0KA0KICAgICAgICAgICJyb2xlcy8iICsgdGhpcy5lZGl0Um9sZXNGb3JtLnJvbGVJZCwNCiAgICAgICAgICB7DQogICAgICAgICAgICByb2xlTmFtZTogdGhpcy5lZGl0Um9sZXNGb3JtLnJvbGVOYW1lLA0KICAgICAgICAgICAgcm9sZURlc2M6IHRoaXMuZWRpdFJvbGVzRm9ybS5yb2xlRGVzYywNCiAgICAgICAgICB9DQogICAgICAgICk7DQogICAgICAgIC8v5YWI5Yik5pat5ZON5bqU5oiQ5Yqf5rKh5pyJDQogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgIGNvbnNvbGUubG9nKHJlcy5yb2xlTmFtZSk7DQogICAgICAgIGNvbnNvbGUubG9nKHJlcy5yb2xlRGVzYyk7DQogICAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMCkgew0KICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLmm7TmlrDnlKjmiLfkv6Hmga/lpLHotKUiKTsNCiAgICAgICAgfQ0KICAgICAgICAvL+WTjeW6lOaIkOWKn+S5i+WQjg0KICAgICAgICAvL+WFs+mXreWvueivneahhiDliLfmlrDmlbDmja7ooagg5o+Q56S65L+u5pS55oiQ5YqfDQogICAgICAgIHRoaXMuZWRpdFJvbGVzVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICB0aGlzLmdldFJvbGVzTGlzdCgpOw0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuabtOaWsOeUqOaIt+S/oeaBr+aIkOWKnyIpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICAvL+agueaNrmlk5Yig6Zmk5a+55bqU55qE5p2D6ZmQDQogICAgLy9yb2xlIOinkuiJsiAgIGlkMyDmnYPpmZAgSUQNCiAgICAvL+WIoOmZpOaMh+WumueahOinkuiJsueahGlkDQogICAgYXN5bmMgcmVtb3ZlUmlnaHRCeUlkKHJvbGUsIHJpZ2h0SWQpIHsNCiAgICAgIGNvbnNvbGUubG9nKHJvbGUsIHJpZ2h0SWQpOw0KICAgICAgLy/lvLnmoYbmj5DnpLoNCiAgICAgIGNvbnN0IGNvbmZpcm1SZXN1bHQgPSBhd2FpdCB0aGlzLiRjb25maXJtKA0KICAgICAgICAi5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l55So5oi3LCDmmK/lkKbnu6fnu60/IiwNCiAgICAgICAgIuaPkOekuiIsDQogICAgICAgIHsNCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsDQogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICB9DQogICAgICApLmNhdGNoKChlcnIpID0+IGVycik7DQogICAgICAvL+WmguaenOehruiupOWIoOmZpCDov5Tlm55jb25maXJtDQogICAgICAvL+WPlua2iOWIoOmZpCDov5Tlm55jYW5jZWwNCiAgICAgIGNvbnNvbGUubG9nKGNvbmZpcm1SZXN1bHQpOw0KICAgICAgaWYgKGNvbmZpcm1SZXN1bHQgIT09ICJjb25maXJtIikgew0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5pbmZvKCLlt7Lnu4/lj5bmtojliKDpmaQiKTsNCiAgICAgIH0NCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmRlbGV0ZSgNCiAgICAgICAgYHJvbGVzLyR7cm9sZS5pZH0vcmlnaHRzLyR7cmlnaHRJZH1gDQogICAgICApOw0KICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPSAyMDApIHsNCiAgICAgICAgLy/lk43lupTplJnor6/mj5DnpLoNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuWIoOmZpOeUqOaIt+Wksei0pSIpOw0KICAgICAgfQ0KICAgICAgLy/miJDlip/lvLnlh7oNCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk55So5oi35oiQ5YqfIik7DQogICAgICAvL+mHjeaWsOiOt+WPlueUqOaIt+WIl+ihqA0KICAgICAgLy90aGlzLmdldFJvbGVzTGlzdCgpO+S4jeaOqOiNkOWboOS4uuS7luaYr+WIt+aWsOaVtOS4qumhtemdog0KICAgICAgLy8gdGhpcy5nZXRSb2xlc0xpc3QoKTsNCiAgICAgIC8v5Zug5Li66L+U5Zue55qEZGF0YSwg5piv5b2T5YmN6KeS6Imy5LiL5pyA5paw55qE5p2D6ZmQ5pWw5o2uDQogICAgICAvL+inkuiJsmlk5LiL5pWw5o2u6YeN5paw5riy5p+TIHJlcy5kYXRh55So5oi35pyA5paw5pWw5o2uICAgcm9sZS5jaGlsZHJlbiDmjIflrprnlKjmiLfkuIvnmoTmlbDmja4NCiAgICAgIHJvbGUuY2hpbGRyZW4gPSByZXMuZGF0YTsNCiAgICB9LA0KICAgIC8v5bGV56S65YiG6YWN5p2D6ZmQ55qE5a+56K+d5qGGDQogICAgYXN5bmMgc2hvd1NldFJpZ2h0RGlhbG9nKHJvbGUpIHsNCiAgICAgIGNvbnNvbGUubG9nKHJvbGUpOw0KICAgICAgLy/kv53lrZjlvZPliY3op5LoibJpZCDku6XlkI7liIbphY3mnYPpmZDlpb3nlKgNCiAgICAgIHRoaXMucm9sZUlkPXJvbGUuaWQNCiAgICAgIC8v6I635Y+W5omA5pyJ55qE5p2D6ZmQ5pWw5o2uDQogICAgICAvL+iOt+WPlueUqOaIt+aJgOacieeahOadg+mZkOeahOaVsOaNrg0KICAgICAgLy/lgLwgbGlzdCDmiJYgdHJlZSAsIGxpc3Qg5YiX6KGo5pi+56S65p2D6ZmQLCB0cmVlIOagkeeKtuaYvuekuuadg+mZkA0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCJyaWdodHMvdHJlZSIpOw0KICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7DQogICAgICAgIC8v5o+Q56S6DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bliJfooajlpLHotKUiKTsNCiAgICAgIH0NCiAgICAgIC8v6I635Y+W55qE5p2D6ZmQ5pWw5o2uIOeUqOepuuaVsOe7hOS/neWtmA0KICAgICAgdGhpcy5yaWdodHNsaXN0ID0gcmVzLmRhdGE7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLnJpZ2h0c2xpc3QpOw0KICAgICAgLy8g6YCS5b2S6I635Y+WM+e6p+iKgueCueeahGlkIHJvbGXlvZPliY3op5LoibIgdGhpcy5kZWZrZXlzIGRhdGHnlLPmmI7nmoTnqbrmlbDnu4QNCiAgICAgIHRoaXMuZ2V0TGVhZmtleXMocm9sZSwgdGhpcy5kZWZrZXlzKTsNCiAgICAgICAgIHRoaXMuZ2V0Um9sZXNMaXN0KCk7DQogICAgICAvL+WvueivneahhuaYvuekug0KICAgICAgdGhpcy5zZXRSaWdodERpYWxvZ1Zpc2libGUgPSB0cnVlOw0KICAgICAgIC8v6YeN5paw6I635Y+W55So5oi35YiX6KGoDQoNCiAgICB9LA0KICAgIC8v55So6YCS5b2S55qE5b2i5byPLOiOt+WPluinkuiJsuS4i+mdouaJgOacieeahDPnuqfmnYPpmZDnmoRpZCzlubbkv53lrZjliLBkZWZrZXlzDQogICAgLy9ub2RlIOiKgueCuSAgYXJyIOaVsOe7hOS/neWtmA0KICAgIGdldExlYWZrZXlzKG5vZGUsIGFycikgew0KICAgICAgLy8g5Yik5pat5q+P5Liq6IqC54K55piv5ZCm5pyJY2hpbGRyZW4g5rKh5pyJ5bCx5piv5pyA5ZCO5LiA5LiqIOS5n+WwseaYr+esrDPnuqcNCiAgICAgIGlmICghbm9kZS5jaGlsZHJlbikgew0KICAgICAgICAvL2FycuihqOekuuaVsOe7hCBwdXNo5b6A5ZCO5re75YqgIG5vZGUuaWQg5bCx5piv5oul5pyJ55qEaWQNCiAgICAgICAgcmV0dXJuIGFyci5wdXNoKG5vZGUuaWQpOw0KICAgICAgfQ0KICAgICAgLy/lpoLmnpzmnIljaGlsZHJlbiDlsLHkuIDnm7Toh6rlt7HosIPoh6rlt7Eg5om+5Yiw5rKh5pyJY2hpbGRyZW7miY3nu5PmnZ8gaXRlbeiKgueCuQ0KICAgICAgbm9kZS5jaGlsZHJlbi5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIHJldHVybiB0aGlzLmdldExlYWZrZXlzKGl0ZW0sIGFycik7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8v6Kej5Yaz54K55Ye75pe25YCZ5pWw57uE6YeM6Z2i55qE5YC857Sv5YqgIOWFs+mXreWvueivneahhmRlZktleXPkv53lrZjnmoTlgLzmuIXpm7YNCiAgICAvLyDnm5HlkKzliIbphY3mnYPpmZDlr7nor53moYbnmoTlhbPpl63kuovku7YgDQogICAgc2V0UmlnaHREaWFsb2dDbG9zZWQoKSB7DQogICAgICB0aGlzLmRlZmtleXM9IFtdDQogICAgfSwNCiAgICAvL+eCueWHu+inkuiJsuWIhumFjeadg+mZkA0KICAgIGFzeW5jIGFsbG90UmlnaHRzKCl7DQogICAgICAvLyDojrflj5blt7Lnu4/pgInmi6nnmoRpZOaVsOe7hCANCiAgICAgIC8v5Zug5Li6dGhpcy4kcmVmcy50cmVlUmVmLmdldENoZWNrZWRLZXlzKCnmmK/kuKrmlbDnu4TmiYDku6XnlKguLi7miZPlvIANCiAgICAgIC8vIGdldENoZWNrZWRLZXlzIOiLpeiKgueCueWPr+iiq+mAieaLqe+8iOWNsyBzaG93LWNoZWNrYm94IOS4uiB0cnVl77yJ77yM5YiZ6L+U5Zue55uu5YmN6KKr6YCJ5Lit55qE6IqC54K555qEIGtleSDmiYDnu4TmiJDnmoTmlbDnu4QNCiAgICAgIC8vZ2V0SGFsZkNoZWNrZWROb2RlcyDoi6XoioLngrnlj6/ooqvpgInmi6nvvIjljbMgc2hvdy1jaGVja2JveCDkuLogdHJ1Ze+8ie+8jOWImei/lOWbnuebruWJjeWNiumAieS4reeahOiKgueCueaJgGtleee7hOaIkOeahOaVsOe7hA0KICAgICAgY29uc3Qga2V5cz1bLi4udGhpcy4kcmVmcy50cmVlUmVmLmdldENoZWNrZWRLZXlzKCksLi4udGhpcy4kcmVmcy50cmVlUmVmLmdldEhhbGZDaGVja2VkS2V5cygpXQ0KICAgICAgY29uc29sZS5sb2coa2V5cyk7DQogICAgICAvL+S4remXtOeUqCAs5ou85o6lDQogICAgICBjb25zdCBpZFN0cj1rZXlzLmpvaW4oJywnKQ0KICAgICAgLy8gY29uc29sZS5sb2coaWRTdHIpOw0KICAgICAgY29uc3R7ZGF0YTpyZXN9PSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoYHJvbGVzLyR7dGhpcy5yb2xlSWR9L3JpZ2h0c2Ase3JpZHM6aWRTdHJ9KQ0KICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7DQogICAgICAgIC8v5o+Q56S6DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLliIbphY3mnYPpmZDlpLHotKUiKTsNCiAgICAgIH0NCiAgICAgICAvL+aPkOekug0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliIbphY3mnYPpmZDmiJDlip8iKTsNCiAgICAgIC8v5Yi35paw5YiX6KGoDQogICAgICAgdGhpcy5nZXRSb2xlc0xpc3QoKTsNCiAgICAgICAvL+WvueivneahhumakOiXjw0KICAgICAgIHRoaXMuc2V0UmlnaHREaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICB9DQogIH0sDQp9Ow0K"},{"version":3,"sources":["Roles.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Roles.vue","sourceRoot":"src/components/power","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <!-- 添加角色按钮区域 -->\r\n      <el-row>\r\n        <el-col>\r\n          <el-button type=\"primary\" @click=\"addRolesVisible = true\"\r\n            >添加角色</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 角色列表区域 -->\r\n      <el-table :data=\"rolelist\" border stripe>\r\n        <!-- 展开列 -->\r\n        <el-table-column type=\"expand\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- json数据格式化展示时用过我认为就是可以识别\\n\\t等转义字符 -->\r\n            <!-- :class=\"['bdbottom']  每一行都绑定  i1===0 就是第一个位置 加上顶部边框线-->\r\n            <el-row\r\n              v-for=\"(item1, i1) in scope.row.children\"\r\n              :key=\"item1.id\"\r\n              :class=\"['bdbottom', i1 === 0 ? 'bdtop' : '', 'vcenter']\"\r\n            >\r\n              <!-- 渲染一级权限 -->\r\n              <el-col :span=\"5\">\r\n                <el-tag\r\n                  closable\r\n                  @close=\"removeRightById(scope.row, item1.id)\"\r\n                  >{{ item1.authName }}</el-tag\r\n                >\r\n                <i class=\"el-icon-caret-right\"></i>\r\n              </el-col>\r\n              <!-- 渲染一级到3级权限 -->\r\n              <el-col :span=\"19\">\r\n                <!-- 通过for渲染二级权限 -->\r\n                <el-row\r\n                  v-for=\"(item2, i2) in item1.children\"\r\n                  :key=\"item2.id\"\r\n                  :class=\"[i1 === 0 ? '' : 'bdtop', 'vcenter']\"\r\n                >\r\n                  <el-col :span=\"6\">\r\n                    <el-tag\r\n                      type=\"success\"\r\n                      closable\r\n                      @close=\"removeRightById(scope.row, item2.id)\"\r\n                      >{{ item2.authName }}</el-tag\r\n                    >\r\n                    <i class=\"el-icon-caret-right\"></i>\r\n                  </el-col>\r\n                  <el-col :span=\"18\">\r\n                    <el-tag\r\n                      type=\"warning\"\r\n                      v-for=\"(item3, i3) in item2.children\"\r\n                      :key=\"item3.id\"\r\n                      closable\r\n                      @close=\"removeRightById(scope.row, item3.id)\"\r\n                    >\r\n                      {{ item3.authName }}</el-tag\r\n                    >\r\n                  </el-col>\r\n                </el-row>\r\n              </el-col>\r\n            </el-row>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column type=\"index\" label=\"id\"></el-table-column>\r\n        <el-table-column label=\"角色名称\" prop=\"roleName\"></el-table-column>\r\n        <el-table-column label=\"角色描述\" prop=\"roleDesc\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"300px\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 编辑按钮 -->\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              @click=\"showEditDialog(scope.row.id)\"\r\n              >编辑</el-button\r\n            >\r\n            <!-- 删除按钮 -->\r\n            <el-button\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              @click=\"removeRolesById(scope.row.id)\"\r\n              >删除</el-button\r\n            >\r\n            <!-- 分配角色 -->\r\n            <el-button\r\n              type=\"warning\"\r\n              icon=\"el-icon-setting\"\r\n              size=\"mini\"\r\n              @click=\"showSetRightDialog(scope.row)\"\r\n              >分配权限</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 添加角色角色 -->\r\n      <el-dialog\r\n        title=\"添加角色\"\r\n        :visible.sync=\"addRolesVisible\"\r\n        width=\"50%\"\r\n        @close=\"addRolesDialogClosed\"\r\n      >\r\n        <el-form\r\n          :model=\"addRolesForm\"\r\n          :rules=\"addRolesFormRules\"\r\n          ref=\"addRolesFormRef\"\r\n          label-width=\"80px\"\r\n        >\r\n          <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n            <el-input v-model=\"addRolesForm.roleName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n            <el-input v-model=\"addRolesForm.roleDesc\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addRolesVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addRoles\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <!-- 编辑角色对话框 -->\r\n      <el-dialog\r\n        title=\"提示\"\r\n        :visible.sync=\"editRolesVisible\"\r\n        width=\"50%\"\r\n        @close=\"editRolesDialogClosed\"\r\n      >\r\n        <el-form\r\n          :model=\"editRolesForm\"\r\n          :rules=\"addRolesFormRules\"\r\n          ref=\"editRolesFormRef\"\r\n          label-width=\"80px\"\r\n        >\r\n          <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n            <el-input v-model=\"editRolesForm.roleName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n            <el-input v-model=\"editRolesForm.roleDesc\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"editRolesVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"editRoles\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <!-- 分配角色权限对话框 -->\r\n      <el-dialog\r\n        title=\"分配权限\"\r\n        :visible.sync=\"setRightDialogVisible\"\r\n        width=\"50%\"\r\n         @close=\"setRightDialogClosed\"\r\n      >\r\n        <!-- 树形控件 -->\r\n        <!-- default-expand-all 是否默认展开所有节点 default-checked-keys\t默认勾选的节点的 key 的数组\r\n      show-checkbox勾选框 -->\r\n        <el-tree\r\n          :data=\"rightslist\"\r\n          :props=\"treeProps\"\r\n          show-checkbox\r\n          node-key=\"id\"\r\n          default-expand-all\r\n          :default-checked-keys=\"defkeys\"\r\n          ref=\"treeRef\"\r\n        ></el-tree>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"setRightDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"allotRights\">确 定</el-button\r\n          >\r\n        </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //所有角色列表数据\r\n      rolelist: [],\r\n      //所有角色权限数据\r\n      rightslist: [],\r\n      //保存点击分配权限的id\r\n      roleId:'',\r\n      //树形控件的绑定对象\r\n      treeProps: {\r\n        //authName 权限说明\r\n        label: \"authName\",\r\n        //在那个里面嵌套\r\n        children: \"children\",\r\n      },\r\n      //树形控件的节点默认勾选的\r\n      defkeys: [],\r\n      //控制添加角色对话框显示隐藏\r\n      addRolesVisible: false,\r\n      //控制编辑角色对话框显示隐藏\r\n      editRolesVisible: false,\r\n      //控制分配角色权限对话框显示隐藏\r\n      setRightDialogVisible: false,\r\n      //添加用户表单数据\r\n      addRolesForm: {\r\n        roleName: \"\",\r\n        roleDesc: \"\",\r\n      },\r\n      //创建一个保存编辑的表单数据\r\n      editRolesForm: {},\r\n      //修改表单的验证规则对象\r\n      addRolesFormRules: {\r\n        roleName: [\r\n          //trigger: \"blur\"失去焦点\r\n          { required: true, message: \"请输入角色名\", trigger: \"blur\" },\r\n          {\r\n            min: 2,\r\n            max: 10,\r\n            message: \"角色名的长度在2~10个字符之间\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        roleDesc: [\r\n          //trigger: \"blur\"失去焦点\r\n          { required: true, message: \"添加角色描述\", trigger: \"blur\" },\r\n          {\r\n            min: 0,\r\n            max: 50,\r\n            message: \"角色描述名的长度在0~50个字符之间\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getRolesList();\r\n  },\r\n  methods: {\r\n    //获取所有的角色列表\r\n    async getRolesList() {\r\n      const { data: res } = await this.$http.get(\"roles\");\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error(\"获取列表失败\");\r\n      }\r\n      this.rolelist = res.data;\r\n      console.log(this.rolelist);\r\n    },\r\n    //根据id删除对应的角色信息\r\n    async removeRolesById(id) {\r\n      console.log(id);\r\n      //弹框提示\r\n      const confirmResult = await this.$confirm(\r\n        \"此操作将永久删除该用户, 是否继续?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch((err) => err);\r\n      //如果确认删除 返回confirm\r\n      //取消删除 返回cancel\r\n      console.log(confirmResult);\r\n      if (confirmResult !== \"confirm\") {\r\n        return this.$message.info(\"已经取消删除\");\r\n      }\r\n      const { data: res } = await this.$http.delete(\"roles/\" + id);\r\n      if (res.meta.status != 200) {\r\n        //响应错误提示\r\n        return this.$message.error(\"删除用户失败\");\r\n      }\r\n      //成功弹出\r\n      this.$message.success(\"删除用户成功\");\r\n      //重新获取用户列表\r\n      this.getRolesList();\r\n    },\r\n    // 点击按钮添加新用户\r\n    addRoles() {\r\n      this.$refs.addRolesFormRef.validate(async (valid) => {\r\n        if (!valid) return;\r\n        const { data: res } = await this.$http.post(\"roles\", this.addRolesForm);\r\n        if (res.data.status !== 201) {\r\n          this.$message.error(\"添加用户失败\");\r\n        }\r\n        this.$message.success(\"添加用户成功\");\r\n        //对话框隐藏\r\n        this.addDialogVisible = false;\r\n        //重新获取用户列表\r\n        this.getRolesList();\r\n      });\r\n    },\r\n    //添加角色对话框关闭事件\r\n    addRolesDialogClosed() {\r\n      //resetFields对整个表单进行重置，将所有字段值重置为初始值并移除校验结果\r\n      this.$refs.addRolesFormRef.resetFields();\r\n    },\r\n    //监听修改角色对话框的关闭事件\r\n    editRolesDialogClosed() {\r\n      // resetFields\t对整个表单进行重置，将所有字段值重置为初始值并移除校验结果\r\n      this.$refs.editRolesFormRef.resetFields();\r\n    },\r\n    // 展示编辑角色的对话框\r\n    async showEditDialog(id) {\r\n      this.editRolesVisible = true;\r\n      // 根据 ID 查询用户信息\r\n      const { data: res } = await this.$http.get(\"roles/\" + id);\r\n      //用if进行判断 用户请求成功还是失败\r\n      if (res.meta.status != 200) {\r\n        //失败提示\r\n        return this.$message.error(\"查询用户失败\");\r\n      }\r\n      this.editRolesForm = res.data;\r\n      console.log(\"1111111111\", this.editRolesForm.roleId);\r\n    },\r\n    //修改角色信息并且提交\r\n    editRoles() {\r\n      this.$refs.editRolesFormRef.validate(async (valid) => {\r\n        //打印为true,表示格式校验验证通过\r\n        console.log(this.editRolesForm);\r\n        // console.log(valid)\r\n        // //不通过直接结束\r\n        if (!valid) return;\r\n        //通过发起修改用户信息的请求\r\n        const { data: res } = await this.$http.put(\r\n          \"roles/\" + this.editRolesForm.roleId,\r\n          {\r\n            roleName: this.editRolesForm.roleName,\r\n            roleDesc: this.editRolesForm.roleDesc,\r\n          }\r\n        );\r\n        //先判断响应成功没有\r\n        console.log(res);\r\n        console.log(res.roleName);\r\n        console.log(res.roleDesc);\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error(\"更新用户信息失败\");\r\n        }\r\n        //响应成功之后\r\n        //关闭对话框 刷新数据表 提示修改成功\r\n        this.editRolesVisible = false;\r\n        this.getRolesList();\r\n        this.$message.success(\"更新用户信息成功\");\r\n      });\r\n    },\r\n    //根据id删除对应的权限\r\n    //role 角色   id3 权限 ID\r\n    //删除指定的角色的id\r\n    async removeRightById(role, rightId) {\r\n      console.log(role, rightId);\r\n      //弹框提示\r\n      const confirmResult = await this.$confirm(\r\n        \"此操作将永久删除该用户, 是否继续?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch((err) => err);\r\n      //如果确认删除 返回confirm\r\n      //取消删除 返回cancel\r\n      console.log(confirmResult);\r\n      if (confirmResult !== \"confirm\") {\r\n        return this.$message.info(\"已经取消删除\");\r\n      }\r\n      const { data: res } = await this.$http.delete(\r\n        `roles/${role.id}/rights/${rightId}`\r\n      );\r\n      if (res.meta.status != 200) {\r\n        //响应错误提示\r\n        return this.$message.error(\"删除用户失败\");\r\n      }\r\n      //成功弹出\r\n      this.$message.success(\"删除用户成功\");\r\n      //重新获取用户列表\r\n      //this.getRolesList();不推荐因为他是刷新整个页面\r\n      // this.getRolesList();\r\n      //因为返回的data, 是当前角色下最新的权限数据\r\n      //角色id下数据重新渲染 res.data用户最新数据   role.children 指定用户下的数据\r\n      role.children = res.data;\r\n    },\r\n    //展示分配权限的对话框\r\n    async showSetRightDialog(role) {\r\n      console.log(role);\r\n      //保存当前角色id 以后分配权限好用\r\n      this.roleId=role.id\r\n      //获取所有的权限数据\r\n      //获取用户所有的权限的数据\r\n      //值 list 或 tree , list 列表显示权限, tree 树状显示权限\r\n      const { data: res } = await this.$http.get(\"rights/tree\");\r\n      if (res.meta.status !== 200) {\r\n        //提示\r\n        return this.$message.error(\"获取列表失败\");\r\n      }\r\n      //获取的权限数据 用空数组保存\r\n      this.rightslist = res.data;\r\n      console.log(this.rightslist);\r\n      // 递归获取3级节点的id role当前角色 this.defkeys data申明的空数组\r\n      this.getLeafkeys(role, this.defkeys);\r\n         this.getRolesList();\r\n      //对话框显示\r\n      this.setRightDialogVisible = true;\r\n       //重新获取用户列表\r\n\r\n    },\r\n    //用递归的形式,获取角色下面所有的3级权限的id,并保存到defkeys\r\n    //node 节点  arr 数组保存\r\n    getLeafkeys(node, arr) {\r\n      // 判断每个节点是否有children 没有就是最后一个 也就是第3级\r\n      if (!node.children) {\r\n        //arr表示数组 push往后添加 node.id 就是拥有的id\r\n        return arr.push(node.id);\r\n      }\r\n      //如果有children 就一直自己调自己 找到没有children才结束 item节点\r\n      node.children.forEach((item) => {\r\n        return this.getLeafkeys(item, arr);\r\n      });\r\n    },\r\n    //解决点击时候数组里面的值累加 关闭对话框defKeys保存的值清零\r\n    // 监听分配权限对话框的关闭事件 \r\n    setRightDialogClosed() {\r\n      this.defkeys= []\r\n    },\r\n    //点击角色分配权限\r\n    async allotRights(){\r\n      // 获取已经选择的id数组 \r\n      //因为this.$refs.treeRef.getCheckedKeys()是个数组所以用...打开\r\n      // getCheckedKeys 若节点可被选择（即 show-checkbox 为 true），则返回目前被选中的节点的 key 所组成的数组\r\n      //getHalfCheckedNodes 若节点可被选择（即 show-checkbox 为 true），则返回目前半选中的节点所key组成的数组\r\n      const keys=[...this.$refs.treeRef.getCheckedKeys(),...this.$refs.treeRef.getHalfCheckedKeys()]\r\n      console.log(keys);\r\n      //中间用 ,拼接\r\n      const idStr=keys.join(',')\r\n      // console.log(idStr);\r\n      const{data:res}= await this.$http.post(`roles/${this.roleId}/rights`,{rids:idStr})\r\n      if (res.meta.status !== 200) {\r\n        //提示\r\n        return this.$message.error(\"分配权限失败\");\r\n      }\r\n       //提示\r\n      this.$message.success(\"分配权限成功\");\r\n      //刷新列表\r\n       this.getRolesList();\r\n       //对话框隐藏\r\n       this.setRightDialogVisible = false\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-tag {\r\n  margin: 7px;\r\n}\r\n.bdtop {\r\n  border-top: 1px solid #eee;\r\n}\r\n.bdbottom {\r\n  border-bottom: 1px solid #eee;\r\n}\r\n.vcenter {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: nowrap;\r\n}\r\n</style>"]}]}